import logging                           from datetime import datetime            from typing import Dict, List            from aiogram import Router, F            from aiogram.filters import Command, StateFilter                                  from aiogram.fsm.context import FSMContext                                        from aiogram.fsm.state import State, StatesGroup                                  from aiogram.types import Message, CallbackQuery, InlineKeyboardMarkup, InlineKeyboardButton                                                                        logger = logging.getLogger(__name__)                                              # FSM States                             class AdminStates(StatesGroup):              # –°”©–∑ “õ–æ—Å—É –∫“Ø–π–ª–µ—Ä—ñ                       adding_wrong_word = State()              adding_russian_word = State()            adding_expression = State()                                                   # Router                                 admin_router = Router()                                                           # Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–ª–∞—Ä                   def get_main_menu_keyboard() -> InlineKeyboardMarkup:                                 """–ë–∞—Å –º”ô–∑—ñ—Ä"""                          keyboard = [                                 [InlineKeyboardButton(text="üìö –°”©–∑–¥—ñ–∫“õ–æ—Ä", callback_data="dict_main")],           [InlineKeyboardButton(text="‚ûï –ñ–∞“£–∞ —Å”©–∑ “õ–æ—Å—É", callback_data="add_main")],        [InlineKeyboardButton(text="üÜï –ñ–∞“£–∞ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ", callback_data="new_words_main")],                                      [InlineKeyboardButton(text="üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", callback_data="stats_main")],     ]                                        return InlineKeyboardMarkup(inline_keyboard=keyboard)                                                                  def get_dictionary_keyboard() -> InlineKeyboardMarkup:                                """–°”©–∑–¥—ñ–∫“õ–æ—Ä –º”ô–∑—ñ—Ä—ñ"""                   keyboard = [                                 [InlineKeyboardButton(text="üìã “ö–∞—Ç–µ —Å”©–∑–¥–µ—Ä", callback_data="dict_wrong")],        [InlineKeyboardButton(text="üìã –û—Ä—ã—Å—à–∞ —Å”©–∑–¥–µ—Ä", callback_data="dict_russian")],                                             [InlineKeyboardButton(text="üìã “ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑–¥–µ—Ä", callback_data="dict_expression")],                                        [InlineKeyboardButton(text="‚¨ÖÔ∏è –ê—Ä—Ç“õ–∞", callback_data="back_main")],            ]                                        return InlineKeyboardMarkup(inline_keyboard=keyboard)                                                                  def get_add_word_keyboard() -> InlineKeyboardMarkup:                                  """–°”©–∑ “õ–æ—Å—É –º”ô–∑—ñ—Ä—ñ"""                    keyboard = [                                 [InlineKeyboardButton(text="üìù “ö–∞—Ç–µ —Å”©–∑ “õ–æ—Å—É", callback_data="add_wrong")],                                                [InlineKeyboardButton(text="üìù –û—Ä—ã—Å—à–∞ —Å”©–∑ “õ–æ—Å—É", callback_data="add_russian")],                                            [InlineKeyboardButton(text="üìù “ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑ “õ–æ—Å—É", callback_data="add_expression")],                                       [InlineKeyboardButton(text="‚¨ÖÔ∏è –ê—Ä—Ç“õ–∞", callback_data="back_main")],            ]                                        return InlineKeyboardMarkup(inline_keyboard=keyboard)                                                                  def get_new_words_keyboard() -> InlineKeyboardMarkup:                                 """–ñ–∞“£–∞ —Å”©–∑–¥–µ—Ä –º”ô–∑—ñ—Ä—ñ"""                 keyboard = [                                 [InlineKeyboardButton(text="üÜï “ö–∞—Ç–µ —Å”©–∑–¥–µ—Ä", callback_data="new_wrong")],         [InlineKeyboardButton(text="üî§ –û—Ä—ã—Å—à–∞ —Å”©–∑–¥–µ—Ä", callback_data="new_russian")],                                              [InlineKeyboardButton(text="üÜï “ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑–¥–µ—Ä", callback_data="new_expression")],                                         [InlineKeyboardButton(text="‚¨ÖÔ∏è –ê—Ä—Ç“õ–∞", callback_data="back_main")],            ]                                        return InlineKeyboardMarkup(inline_keyboard=keyboard)                                                                  def get_stats_keyboard() -> InlineKeyboardMarkup:                                     """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º”ô–∑—ñ—Ä—ñ"""                  keyboard = [                                 [InlineKeyboardButton(text="ü§´ 5 –º–∏–Ω—É—Ç", callback_data="stats_5min")],            [InlineKeyboardButton(text="ü§´ 30 –º–∏–Ω—É—Ç", callback_data="stats_30min")],          [InlineKeyboardButton(text="ü§´ 1 –∫“Ø–Ω", callback_data="stats_1day")],              [InlineKeyboardButton(text="‚úåÔ∏è –°–∞–ø–∞—Ä", callback_data="stats_kicked")],             [InlineKeyboardButton(text="üîí “ö“±–ª—ã–ø", callback_data="stats_banned")],            [InlineKeyboardButton(text="üîù “ö–∞—Ç–µ —Å”©–∑–¥–µ—Ä", callback_data="stats_top_errors")],                                           [InlineKeyboardButton(text="üè† –ë–∞—Å—Ç—ã –º”ô–∑—ñ—Ä", callback_data="back_main")],     ]                                        return InlineKeyboardMarkup(inline_keyboard=keyboard)                                                                  def get_back_keyboard(to: str = "dict_main") -> InlineKeyboardMarkup:                 """–ê—Ä—Ç“õ–∞ –±–∞—Ç—ã—Ä–º–∞—Å—ã"""                    keyboard = [[InlineKeyboardButton(text="‚¨ÖÔ∏è –ê—Ä—Ç“õ–∞", callback_data=to)]]             return InlineKeyboardMarkup(inline_keyboard=keyboard)                                                                  # –ö–æ–º–∞–Ω–¥–∞ —Ö–µ–Ω–¥–ª–µ—Ä—ñ                       @admin_router.message(Command("admin"))  async def cmd_admin(message: Message):       """”ò–∫—ñ–º—à—ñ –ø–∞–Ω–µ–ª—ñ"""                      from bot import ADMIN_ID                                                          if message.from_user.id != ADMIN_ID:         await message.answer("‚ùå –ë“±–ª –∫–æ–º–∞–Ω–¥–∞ —Ç–µ–∫ ”ô–∫—ñ–º—à—ñ–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω!")                     return                                                                        await message.answer(                        "‚õëÔ∏è <b>”ò–∫—ñ–º—à—ñ —Ç–∞“õ—Ç–∞—Å—ã</b>\n\n"            "–ë–∞—Å“õ–∞—Ä—É –ø–∞–Ω–µ–ª—ñ–Ω–µ “õ–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑!",        reply_markup=get_main_menu_keyboard(),                                            parse_mode='HTML'                    )                                                                             # Callback —Ö–µ–Ω–¥–ª–µ—Ä—ñ                      @admin_router.callback_query(F.data == "back_main")                               async def back_to_main(callback: CallbackQuery):                                      """–ë–∞—Å –º”ô–∑—ñ—Ä–≥–µ “õ–∞–π—Ç—É"""                  await callback.message.edit_text(            "‚õëÔ∏è <b>”ò–∫—ñ–º—à—ñ —Ç–∞“õ—Ç–∞—Å—ã</b>\n\n"            "–ë–∞—Å“õ–∞—Ä—É –ø–∞–Ω–µ–ª—ñ–Ω–µ “õ–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑!",        reply_markup=get_main_menu_keyboard(),                                            parse_mode='HTML'                    )                                        await callback.answer()                                                       # 1Ô∏è‚É£ –°”®–ó–î–Ü–ö“ö–û–† –ë”®–õ–Ü–ú–Ü                     @admin_router.callback_query(F.data == "dict_main")                               async def dict_main(callback: CallbackQuery):                                         """–°”©–∑–¥—ñ–∫“õ–æ—Ä –º”ô–∑—ñ—Ä—ñ"""                   await callback.message.edit_text(            "üìö <b>–°”©–∑–¥—ñ–∫“õ–æ—Ä</b>\n\n"                "“ö–∞–∂–µ—Ç—Ç—ñ –±”©–ª—ñ–º–¥—ñ —Ç–∞“£–¥–∞“£—ã–∑:",             reply_markup=get_dictionary_keyboard(),                                           parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "dict_wrong")                              async def dict_wrong(callback: CallbackQuery):                                        """“ö–∞—Ç–µ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ"""                 # bot_instance –∞–ª—É                       from bot import bot_instance                                                      if not bot_instance.wrong_words:             await callback.message.edit_text(            "‚ÄºÔ∏è “ö–∞—Ç–µ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ–Ω–¥–µ –µ—à“õ–∞–Ω–¥–∞–π —Å”©–∑ –∂–æ“õ!\n\n"                                   "–°”©–∑ “õ–æ—Å—É “Ø—à—ñ–Ω: <code>/add_wrong “õ–∞—Ç–µ –¥“±—Ä—ã—Å</code>",                              reply_markup=get_back_keyboard("dict_main"),                                      parse_mode='HTML'                    )                                    else:                                        text = "üìã <b>“ö–∞—Ç–µ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ</b>\n\n"                                         for wrong, correct in list(bot_instance.wrong_words.items())[:50]:                    text += f"‚ùå <code>{wrong}</code> ‚û°Ô∏è ‚úÖ <code>{correct}</code>\n"                                                       if len(bot_instance.wrong_words) > 50:                                                text += f"\n<i>... –∂”ô–Ω–µ —Ç–∞“ì—ã {len(bot_instance.wrong_words) - 50} —Å”©–∑</i>"                                                                                      await callback.message.edit_text(            text,                                    reply_markup=get_back_keyboard("dict_main"),                                      parse_mode='HTML'                    )                                    await callback.answer()                                                       @admin_router.callback_query(F.data == "dict_russian")                            async def dict_russian(callback: CallbackQuery, bot_instance):                        """–û—Ä—ã—Å—à–∞ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ"""               if not bot_instance.russian_words:           await callback.message.edit_text(            "‚ÄºÔ∏è –û—Ä—ã—Å—à–∞ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ–Ω–¥–µ –µ—à“õ–∞–Ω–¥–∞–π —Å”©–∑ –∂–æ“õ!\n\n"                                 "–°”©–∑ “õ–æ—Å—É “Ø—à—ñ–Ω: <code>/add_rus –æ—Ä—ã—Å—à–∞ –∞—É–¥–∞—Ä–º–∞</code>",                            reply_markup=get_back_keyboard("dict_main"),                                      parse_mode='HTML'                    )                                    else:                                        text = "üìã <b>–û—Ä—ã—Å—à–∞ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ</b>\n\n"                                       # –û—Ä—ã—Å—à–∞ —Å”©–∑–¥–µ—Ä–≥–µ –±–∞–ª–∞–º–∞–ª–∞—Ä–¥—ã “õ–æ—Å—É (“õ–∞–∑—ñ—Ä —Ç–µ–∫ —Å”©–∑–¥–µ—Ä –±–∞—Ä)                         for word in list(bot_instance.russian_words)[:50]:                                    text += f"üá∑üá∫ <code>{word}</code>\n"                                                                                    if len(bot_instance.russian_words) > 50:                                              text += f"\n<i>... –∂”ô–Ω–µ —Ç–∞“ì—ã {len(bot_instance.russian_words) - 50} —Å”©–∑</i>"                                                                                    await callback.message.edit_text(            text,                                    reply_markup=get_back_keyboard("dict_main"),                                      parse_mode='HTML'                    )                                    await callback.answer()                                                       @admin_router.callback_query(F.data == "dict_expression")                         async def dict_expression(callback: CallbackQuery, bot_instance):                     """“ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ"""             # “ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑–¥–µ—Ä–¥—ñ –∂–∏–Ω–∞—É (mixed_patterns + russian_words in kazakh text)         expressions = bot_instance.mixed_patterns                                                                                  if not expressions:                          await callback.message.edit_text(            "‚ÄºÔ∏è “ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ–Ω–¥–µ –µ—à“õ–∞–Ω–¥–∞–π —Å”©–∑ –∂–æ“õ!\n\n"                               "–°”©–∑ “õ–æ—Å—É “Ø—à—ñ–Ω: <code>/add_exp “õ—ã—Å—Ç—ã—Ä–º–∞ –±–∞–ª–∞–º–∞—Å—ã</code>",                         reply_markup=get_back_keyboard("dict_main"),                                      parse_mode='HTML'                    )                                    else:                                        text = "üìã <b>“ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ</b>\n\n"                                     for i, pattern in enumerate(expressions[:20], 1):                                     text += f"{i}. <code>{pattern}</code>\n"                                                                               await callback.message.edit_text(            text,                                    reply_markup=get_back_keyboard("dict_main"),                                      parse_mode='HTML'                    )                                    await callback.answer()                                                       # 2Ô∏è‚É£ –°”®–ó “ö–û–°–£ –ë”®–õ–Ü–ú–Ü                      @admin_router.callback_query(F.data == "add_main")                                async def add_main(callback: CallbackQuery):                                          """–°”©–∑ “õ–æ—Å—É –º”ô–∑—ñ—Ä—ñ"""                    await callback.message.edit_text(            "‚ûï <b>–ñ–∞“£–∞ —Å”©–∑ “õ–æ—Å—É</b>\n\n"            "“ö–∞–Ω–¥–∞–π —Ç“Ø—Ä–¥–µ–≥—ñ —Å”©–∑ “õ–æ—Å“õ—ã“£—ã–∑ –∫–µ–ª–µ–¥—ñ?",                                            reply_markup=get_add_word_keyboard(),                                             parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "add_wrong")                               async def add_wrong_info(callback: CallbackQuery):                                    """“ö–∞—Ç–µ —Å”©–∑ “õ–æ—Å—É –Ω“±—Å“õ–∞—É–ª—ã“ì—ã"""           text = (                                     "üìù <b>“ö–∞—Ç–µ —Å”©–∑ “õ–æ—Å—É</b>\n\n"            "<b>–ñ–∞“£–∞ —Å”©–∑ “õ–æ—Å—É –ø—ñ—à—ñ–º—ñ:</b>\n"         "<code>/add_wrong &lt;“õ–∞—Ç–µ —Å”©–∑&gt; &lt;–¥“±—Ä—ã—Å –Ω“±—Å“õ–∞—Å—ã&gt;</code>\n\n"              "<b>‚ö†Ô∏è –ï—Å–∫–µ—Ä—Ç—É!</b>\n"                    "–ë—ñ—Ä —É–∞“õ—ã—Ç—Ç–∞ –∫”©–ø —Å”©–∑–¥–µ—Ä–¥—ñ “õ–æ—Å“õ—ã“£—ã–∑ –∫–µ–ª—Å–µ, –º—ã–Ω–∞ –ø—ñ—à—ñ–º–¥—ñ “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑:\n\n"           "<code>/add_wrong &lt;“õ–æ—Å—ã–ª–∞—Ç—ã–Ω —Å”©–∑ —Å–∞–Ω—ã&gt;\n"                                   "&lt;“õ–∞—Ç–µ —Å”©–∑&gt; &lt;–¥“±—Ä—ã—Å –Ω“±—Å“õ–∞—Å—ã&gt;\n"                                        "&lt;“õ–∞—Ç–µ —Å”©–∑&gt; &lt;–¥“±—Ä—ã—Å –Ω“±—Å“õ–∞—Å—ã&gt;\n"                                        "...</code>\n\n"                         "<b>–ú—ã—Å–∞–ª:</b>\n"                        "<code>/add_wrong –±—É–≥—ã–Ω –±“Ø–≥—ñ–Ω</code>\n\n"                                         "<code>/add_wrong 2\n"                   "—Å–µ–Ω—ã–Ω —Å–µ–Ω—ñ“£\n"                          "–ë—ã–∑ –±—ñ–∑</code>"                     )                                                                                 await callback.message.edit_text(            text,                                    reply_markup=get_back_keyboard("add_main"),                                       parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "add_russian")                             async def add_russian_info(callback: CallbackQuery):                                  """–û—Ä—ã—Å—à–∞ —Å”©–∑ “õ–æ—Å—É –Ω“±—Å“õ–∞—É–ª—ã“ì—ã"""         text = (                                     "üìù <b>–û—Ä—ã—Å—à–∞ —Å”©–∑ “õ–æ—Å—É</b>\n\n"          "<b>–ñ–∞“£–∞ —Å”©–∑ “õ–æ—Å—É –ø—ñ—à—ñ–º—ñ:</b>\n"         "<code>/add_rus &lt;–æ—Ä—ã—Å—à–∞ —Å”©–∑&gt; &lt;–∞—É–¥–∞—Ä–º–∞—Å—ã/–±–∞–ª–∞–º–∞—Å—ã&gt;</code>\n\n"         "<b>‚ö†Ô∏è –ï—Å–∫–µ—Ä—Ç—É!</b>\n"                    "–ë—ñ—Ä —É–∞“õ—ã—Ç—Ç–∞ –∫”©–ø —Å”©–∑–¥–µ—Ä–¥—ñ “õ–æ—Å“õ—ã“£—ã–∑ –∫–µ–ª—Å–µ, –º—ã–Ω–∞ –ø—ñ—à—ñ–º–¥—ñ “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑:\n\n"           "<code>/add_rus &lt;“õ–æ—Å—ã–ª–∞—Ç—ã–Ω —Å”©–∑ —Å–∞–Ω—ã&gt;\n"                                     "&lt;–æ—Ä—ã—Å—à–∞ —Å”©–∑&gt; &lt;–∞—É–¥–∞—Ä–º–∞—Å—ã/–±–∞–ª–∞–º–∞—Å—ã&gt;\n"                                 "&lt;–æ—Ä—ã—Å—à–∞ —Å”©–∑&gt; &lt;–∞—É–¥–∞—Ä–º–∞—Å—ã/–±–∞–ª–∞–º–∞—Å—ã&gt;\n"                                 "...</code>\n\n"                         "<b>–ú—ã—Å–∞–ª:</b>\n"                        "<code>/add_rus —Å–ø–∞—Å–∏–±–æ —Ä–∞“õ–º–µ—Ç</code>\n\n"                                        "<code>/add_rus 2\n"                     "–ø–∞–ø–∞ ”ô–∫–µ\n"                             "–¥–æ—á—å “õ—ã–∑</code>"                    )                                                                                 await callback.message.edit_text(            text,                                    reply_markup=get_back_keyboard("add_main"),                                       parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "add_expression")                          async def add_expression_info(callback: CallbackQuery):                               """“ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑ “õ–æ—Å—É –Ω“±—Å“õ–∞—É–ª—ã“ì—ã"""       text = (                                     "üìù <b>“ö—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑ “õ–æ—Å—É</b>\n\n"        "<b>–ñ–∞“£–∞ —Å”©–∑ “õ–æ—Å—É –ø—ñ—à—ñ–º—ñ:</b>\n"         "<code>/add_exp &lt;“õ—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑&gt; &lt;–±–∞–ª–∞–º–∞—Å—ã&gt;</code>\n\n"                 "<b>‚ö†Ô∏è –ï—Å–∫–µ—Ä—Ç—É!</b>\n"                    "–ë—ñ—Ä —É–∞“õ—ã—Ç—Ç–∞ –∫”©–ø —Å”©–∑–¥–µ—Ä–¥—ñ “õ–æ—Å“õ—ã“£—ã–∑ –∫–µ–ª—Å–µ, –º—ã–Ω–∞ –ø—ñ—à—ñ–º–¥—ñ “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑:\n\n"           "<code>/add_exp &lt;“õ–æ—Å—ã–ª–∞—Ç—ã–Ω —Å”©–∑ —Å–∞–Ω—ã&gt;\n"                                     "&lt;“õ—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑&gt; &lt;–±–∞–ª–∞–º–∞—Å—ã&gt;\n"                                         "&lt;“õ—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑&gt; &lt;–±–∞–ª–∞–º–∞—Å—ã&gt;\n"                                         "...</code>\n\n"                         "<b>–ú—ã—Å–∞–ª:</b>\n"                        "<code>/add_exp —É–∂–µ ”ô–ª–¥–µ“õ–∞—à–∞–Ω</code>\n\n"                                         "<code>/add_exp 2\n"                     "–ø—Ä–æ—Å—Ç–æ –∂”ô–π\n"                           "–¥–∞–∂–µ —Ç—ñ–ø—Ç—ñ</code>"                  )                                                                                 await callback.message.edit_text(            text,                                    reply_markup=get_back_keyboard("add_main"),                                       parse_mode='HTML'                    )                                        await callback.answer()                                                       # 3Ô∏è‚É£ –ñ–ê“¢–ê –°”®–ó–î–ï–† –ë”®–õ–Ü–ú–Ü                   @admin_router.callback_query(F.data == "new_words_main")                          async def new_words_main(callback: CallbackQuery):                                    """–ñ–∞“£–∞ —Å”©–∑–¥–µ—Ä –º”ô–∑—ñ—Ä—ñ"""                 await callback.message.edit_text(            "üÜï <b>–ñ–∞“£–∞ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ</b>\n\n"                                                "“ö–æ–ª–¥–∞–Ω—É—à—ã–ª–∞—Ä–¥–∞–Ω –∫–µ–ª–≥–µ–Ω –∂–∞“£–∞ —Å”©–∑–¥–µ—Ä–¥—ñ “õ–∞—Ä–∞—É:",                                    reply_markup=get_new_words_keyboard(),                                            parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "new_wrong")                               async def new_wrong(callback: CallbackQuery, bot_instance):                           """–ñ–∞“£–∞ “õ–∞—Ç–µ —Å”©–∑–¥–µ—Ä"""                   # –ë“±–ª —Ñ—É–Ω–∫—Ü–∏—è–Ω—ã —Ç–æ–ª—Ç—ã—Ä—É “Ø—à—ñ–Ω “õ–æ—Å—ã–º—à–∞ –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä “õ–∞–∂–µ—Ç                             await callback.message.edit_text(            "üòá –ñ–∞“õ—ã–Ω –∞—Ä–∞–¥–∞ –µ—à“õ–∞–Ω–¥–∞–π –∂–∞“£–∞ “õ–∞—Ç–µ —Å”©–∑ –∞–Ω—ã“õ—Ç–∞–ª“ì–∞–Ω –∂–æ“õ.",                          reply_markup=get_back_keyboard("new_words_main"),                                 parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "new_russian")                             async def new_russian(callback: CallbackQuery):                                       """–ñ–∞“£–∞ –æ—Ä—ã—Å—à–∞ —Å”©–∑–¥–µ—Ä"""                 await callback.message.edit_text(            "üòá –ñ–∞“õ—ã–Ω –∞—Ä–∞–¥–∞ –µ—à“õ–∞–Ω–¥–∞–π –∂–∞“£–∞ –æ—Ä—ã—Å—à–∞ —Å”©–∑ –∞–Ω—ã“õ—Ç–∞–ª“ì–∞–Ω –∂–æ“õ.",                        reply_markup=get_back_keyboard("new_words_main"),                                 parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "new_expression")                          async def new_expression(callback: CallbackQuery):                                    """–ñ–∞“£–∞ “õ—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑–¥–µ—Ä"""               await callback.message.edit_text(            "üòá –ñ–∞“õ—ã–Ω –∞—Ä–∞–¥–∞ –µ—à“õ–∞–Ω–¥–∞–π –∂–∞“£–∞ “õ—ã—Å—Ç—ã—Ä–º–∞ —Å”©–∑ –∞–Ω—ã“õ—Ç–∞–ª“ì–∞–Ω –∂–æ“õ.",                      reply_markup=get_back_keyboard("new_words_main"),                                 parse_mode='HTML'                    )                                        await callback.answer()                                                       # 4Ô∏è‚É£ –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ë”®–õ–Ü–ú–Ü                    @admin_router.callback_query(F.data == "stats_main")                              async def stats_main(callback: CallbackQuery):                                        """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º”ô–∑—ñ—Ä—ñ"""                  await callback.message.edit_text(            "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b>\n\n"               "“ö–∞–∂–µ—Ç—Ç—ñ –±”©–ª—ñ–º–¥—ñ —Ç–∞“£–¥–∞“£—ã–∑:",             reply_markup=get_stats_keyboard(),                                                parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "stats_5min")                              async def stats_5min(callback: CallbackQuery, bot_instance):                          """5 –º–∏–Ω—É—Ç –∂–∞–∑–∞—Å—ã –∞–ª“ì–∞–Ω–¥–∞—Ä"""            await callback.message.edit_text(            "üëÆ‚Äç‚ôÇÔ∏è <b>5 –º–∏–Ω—É—Ç —Ç—ñ–∑—ñ–º—ñ –±–æ—Å.</b>\n\n"                                              "–ï—à–∫—ñ–º –∂–∞–∑–∞ –∞–ª“ì–∞–Ω –∂–æ“õ.",                 reply_markup=get_back_keyboard("stats_main"),                                     parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "stats_30min")                             async def stats_30min(callback: CallbackQuery):                                       """30 –º–∏–Ω—É—Ç –∂–∞–∑–∞—Å—ã –∞–ª“ì–∞–Ω–¥–∞—Ä"""           await callback.message.edit_text(            "üëÆ‚Äç‚ôÇÔ∏è <b>30 –º–∏–Ω—É—Ç —Ç—ñ–∑—ñ–º—ñ –±–æ—Å.</b>\n\n"                                             "–ï—à–∫—ñ–º –∂–∞–∑–∞ –∞–ª“ì–∞–Ω –∂–æ“õ.",                 reply_markup=get_back_keyboard("stats_main"),                                     parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "stats_1day")                              async def stats_1day(callback: CallbackQuery):                                        """1 –∫“Ø–Ω –∂–∞–∑–∞—Å—ã –∞–ª“ì–∞–Ω–¥–∞—Ä"""              await callback.message.edit_text(            "üëÆ‚Äç‚ôÇÔ∏è <b>1 –∫“Ø–Ω —Ç—ñ–∑—ñ–º—ñ –±–æ—Å.</b>\n\n"                                                "–ï—à–∫—ñ–º –∂–∞–∑–∞ –∞–ª“ì–∞–Ω –∂–æ“õ.",                 reply_markup=get_back_keyboard("stats_main"),                                     parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "stats_kicked")                            async def stats_kicked(callback: CallbackQuery):                                      """–°–∞–ø–∞—Ä“ì–∞ –∫–µ—Ç–∫–µ–Ω–¥–µ—Ä"""                  await callback.message.edit_text(            "üëÆ‚Äç‚ôÇÔ∏è <b>–°–∞–ø–∞—Ä“ì–∞ –∫–µ—Ç–∫–µ–Ω–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ –±–æ—Å.</b>\n\n"                                    "–ï—à–∫—ñ–º —à—ã“ì–∞—Ä—ã–ª“ì–∞–Ω –∂–æ“õ.",                 reply_markup=get_back_keyboard("stats_main"),                                     parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "stats_banned")                            async def stats_banned(callback: CallbackQuery):                                      """“ö“±–ª—ã–ø—Ç–∞–ª“ì–∞–Ω–¥–∞—Ä"""                     await callback.message.edit_text(            "üëÆ‚Äç‚ôÇÔ∏è <b>“ö“±–ª—ã–ø—Ç–∞–ª“ì–∞–Ω–¥–∞—Ä —Ç—ñ–∑—ñ–º—ñ –±–æ—Å.</b>\n\n"                                       "–ï—à–∫—ñ–º –±“±“ì–∞—Ç—Ç–∞–ª“ì–∞–Ω –∂–æ“õ.",                reply_markup=get_back_keyboard("stats_main"),                                     parse_mode='HTML'                    )                                        await callback.answer()                                                       @admin_router.callback_query(F.data == "stats_top_errors")                        async def stats_top_errors(callback: CallbackQuery, bot_instance):                    """–ï“£ –∫”©–ø –∫–µ–∑–¥–µ—Å–µ—Ç—ñ–Ω “õ–∞—Ç–µ–ª–µ—Ä"""          await callback.message.edit_text(            "üîù <b>“ö–∞—Ç–µ —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ –±–æ—Å.</b>\n\n"                                           "”ò–∑—ñ—Ä–≥–µ “õ–∞—Ç–µ–ª–µ—Ä –∂–æ“õ.",                   reply_markup=get_back_keyboard("stats_main"),                                     parse_mode='HTML'                    )                                        await callback.answer()
